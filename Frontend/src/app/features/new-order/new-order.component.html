<div class="header-box">
    <span class="header-text">Customer AHPOP - New Order</span>
</div>

<div class="form-container">
    <div class="order-title-container">
        <div class="order-title">
            <h2>Order</h2>
        </div>
    </div>

    <div class="order-form-container">
        <form class="order-form" (ngSubmit)="onSaveClick()">
            <div class="form-row">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Employee</mat-label>
                  <mat-select [(ngModel)]="order.employee" name="employee" required>
                      <mat-option *ngFor="let employee of employees" [value]="employee.empid">
                          {{ employee.fullName }}
                      </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Shipper</mat-label>
                    <mat-select [(ngModel)]="order.shipper" name="shipper" required>
                        <mat-option *ngFor="let shipper of shippers" [value]="shipper.shipperId">
                            {{ shipper.companyName }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Ship Name</mat-label>
                    <input matInput [(ngModel)]="order.shipName" name="shipName" required />
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Ship Address</mat-label>
                    <input matInput [(ngModel)]="order.shipAddress" name="shipAddress" required />
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Ship City</mat-label>
                    <input matInput [(ngModel)]="order.shipCity" name="shipCity" required />
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Ship Country</mat-label>
                    <input matInput [(ngModel)]="order.shipCountry" name="shipCountry" required />
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Order Date</mat-label>
                    <input matInput [matDatepicker]="orderDate" [(ngModel)]="order.orderDate" name="orderDate"
                        required />
                    <mat-datepicker-toggle matSuffix [for]="orderDate"></mat-datepicker-toggle>
                    <mat-datepicker #orderDate></mat-datepicker>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Required Date</mat-label>
                    <input matInput [matDatepicker]="requiredDate" [(ngModel)]="order.requiredDate" name="requiredDate"
                        required />
                    <mat-datepicker-toggle matSuffix [for]="requiredDate"></mat-datepicker-toggle>
                    <mat-datepicker #requiredDate></mat-datepicker>
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Shipped Date</mat-label>
                    <input matInput [matDatepicker]="shippedDate" [(ngModel)]="order.shippedDate" name="shippedDate"
                        required />
                    <mat-datepicker-toggle matSuffix [for]="shippedDate"></mat-datepicker-toggle>
                    <mat-datepicker #shippedDate></mat-datepicker>
                </mat-form-field>
            </div>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Freight</mat-label>
                <input matInput type="number" [(ngModel)]="order.freight" name="freight" required [min]="0"
                    [min]="0"  pattern="[0-9]+(\.[0-9]{1,2})?" />
            </mat-form-field>


            <div class="order-details-title">
                <h3>Order Details</h3>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Product</mat-label>
                    <mat-select [(ngModel)]="orderDetail.productId" name="product" required>
                        <mat-option *ngFor="let product of products" [value]="product.productId">
                            {{ product.productName }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div class="form-row">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Unit Price</mat-label>
                    <input matInput type="number" [(ngModel)]="orderDetail.unitPrice" name="unitPrice" required
                        [min]="0" [step]="0.01" pattern="[0-9]+(\.[0-9]{1,2})?" />
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Quantity</mat-label>
                    <input matInput type="number" [(ngModel)]="orderDetail.quantity" name="quantity" required
                        [min]="0" />
                </mat-form-field>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Discount (%)</mat-label>
                    <input matInput type="number" [(ngModel)]="orderDetail.discount" name="discount" required [min]="0"
                        [min]="0"  pattern="[0-9]+(\.[0-9]{1,2})?" />
                </mat-form-field>
            </div>

            <div class="form-row">
                <span class="form-action" (click)="onCloseClick()">Close</span>
                <span class="form-action" (click)="onSaveClick()">Save</span>
            </div>
        </form>
    </div>
</div>
